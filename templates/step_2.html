<style>
    .step_2 .glyphicons i:before{
        font-size:45px;
    }
    
    .step_2 .step_status-row{
        text-align:center;
        height:130px
    }
    
    .step_2 .step_status{
        padding-top:25px;
    }
    
    .step_2 .iphone-row{
        text-align: center;
        height: 250px;
        background-color: rgba(0,0,0,0.2);
        box-shadow: 0px 0px 20px rgba(0,0,0,0.8);
    }
    
    
    
    .step_2 .iPhone{
        position:relative;
        top:-50px;
        width:250px;
        height:300px;
        margin:0px auto;
    }
    
    .step_2 .iPhone-content{
        position:relative;
        top:71px;
        left:19px;
        background-color:rgba(0,0,0,0.4);
        width:213px;
        height:229px;
    }
    
    .step_2 .iPhone-content button{
        margin-top:80px;
    }
    
    .step_2 .iPhone-click-hint{
        position:relative;
        top:-177px;
        left:259px;
    }
    
     .step_2 .iPhone-content .email_recipient{
        position: relative;
        font-family: "Helvetica";
        font-size: 12px;
        top: 50px;
        left: 27px;
        color: #2e93ff;
        text-shadow: none;
        text-align: left;
    }
    
    .step_2 .iPhone-content .email_subject{
        position: relative;
        font-family: "Helvetica";
        font-size: 11px;
        top: 98px;
        left: 52px;
        color: black;
        text-shadow: none;
        text-align: left;
    }
    
     .step_2 .iPhone-content .email_body{
        position: relative;
        font-family: "Helvetica";
        font-size: 11px;
        top: 113px;
        left: 11px;
        color: black;
        text-shadow: none;
        text-align: left;
    }
    
    .arrow_box {
        opacity:0.8;
        width:180px;
	position: relative;
	background: #222;
	border: 4px solid #f1f0f5;
}
.arrow_box:after, .arrow_box:before {
	right: 100%;
	top: 50%;
	border: solid transparent;
	content: " ";
	height: 0;
	width: 0;
	position: absolute;
	pointer-events: none;
}

.arrow_box:after {
	border-color: rgba(211, 213, 213, 0);
	border-right-color: #222;
	border-width: 20px;
	margin-top: -20px;
}
.arrow_box:before {
	border-color: rgba(241, 240, 245, 0);
	border-right-color: #f1f0f5;
	border-width: 26px;
	margin-top: -26px;
}
</style>



<div class="COLS step_2">

    <div class="COL-FLEX">
        <div class="EXTENDER">
            <div class="PADDER-CENTER">
                <div style="width:100%">
                    <div class="ROWS">
                        <div class="ROW step_status-row">
                            <div class="step_status">
                                <div class="glyphicons thumbs_up">
                                    <i></i>
                                </div>
                                <div style="font-size:30px">Great!</div>
                            </div>
                        </div>

                        <div class="ROW-FLEX" style="text-align:center">
                            Send the email appeared on your phone.
                            <br>
                            <br>
                            <span style="font-size:13px">We are waiting to reach your email...</span>
                            
                            <div class="loading" style="margin-top:8px">
                                <div class="track"></div>
                                <div class="spinner">
                                    <div class="loadingMask">
                                        <div class="maskedCircle"></div>
                                    </div>
                                </div>
                            </div>
                        </div>



                        <div class="ROW COLS iphone-row">
                            <div class="COL" style="width:150px"></div>
                            <div class="COL-FLEX">
                                <div class="iPhone">
                                    <div class="iPhone-content">
                                        <div class="iPhone_email_bg">
                                            <div class="email_recipient"><span></span></div>
                                            <div class="email_subject">user id: <span></span></div>
                                            <div class="email_body">-------SEND WITHOUT MODIFY-------<br>my registration id: <span></span></div>
                                        </div>
                                    </div>
                                    <div class="iPhone-click-hint arrow_box">
                                        <br>Click "send" without modify the e-mail
                                        <br>&nbsp;
                                    </div>
                                </div>
                            </div>
                            <div class="COL" style="width:150px"></div>
                        </div>


                    </div>
                </div>
            </div>
        </div>
    </div>

</div>


<script>
    moduleFunctions = {
        js_on: function(opts) {
            // this                                      // ritorna l'istanza del json moduleFunctions del modulo
            // this.$();                                 // ritorna il nodo html del modulo
            // getModule("template_name","module_id");   // ritorna l'istanza module_id del template template_name
            // this.opts()                               // ritorna il json delle options del modulo
            // this.getChildModules()                    // ritorna l'array degli id dei moduli figli di primo livello
            // this.getId()                              // ritorna l'id del modulo
            // this.getTemplate()                        // titorna il nome del template
            // this.createScroller()                     // cerca un .wrapper e lo rende un iScroll
            var that = this;
            var $that = this.$();
            
            var user_id = getModule("common").getUserId();
            var signin_email = getModule("common").getSigninEmail();

            var $hint = $that.find(".iPhone-click-hint");
            var $arrow_box = $that.find(".arrow_box");
            
            $that.find(".email_subject span").html(user_id)
            $that.find(".email_body span").html(user_id)
            $that.find(".email_recipient span").html(signin_email)


            $that.find(".step_status").click(function() {
                getModule("app").goToStep3();
            })

            setInterval(function() {
                $hint.doEffect({
                    effect: "wobble",
                    clean: true
                });
            }, 3000)

        }
    };
</script>