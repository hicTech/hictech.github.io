<style>
    .APP-loading{
            z-index: 1000;
            position: absolute;
            background-color: rgba(0,0,0,0.55);
            width: 100%;
            height: 100%;
            box-shadow:inset 0px 0px 200px rgba(0,0,0,0.15);
            display:none;
        }
    
    @-webkit-keyframes spin {
      from { -webkit-transform: rotate(0deg); }
      to { -webkit-transform: rotate(360deg); }
    }
    
    @-o-keyframes spin {
      from { -o-transform: rotate(0deg); }
      to { -o-transform: rotate(360deg); }
    }
    
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    /* Loading animation container */
    .loading {
      position: absolute;
      top: 65px;
      left: 50%;
      width: 28px;
      height: 28px;
      margin: -14px 0 0 -14px;
        z-index:200000
    }
    
    /* Spin track (outer circle) */
    .loading .track {
      position: relative;
      width: 22px;
      height: 22px;
      left: 2px;
      top: 2px;
      border-radius: 15px;
      border: 1px solid rgba(0,0,0,0.1);
      box-shadow: 0px 0px 6px 0px rgba(255,255,255,0.8);
    }
    
    /* Spinning circle (inner circle) */
    .loading .maskedCircle {
      width: 20px;
      height: 20px;
      border-radius: 12px;
      border: 3px solid #fff;
    }
    
    /* Spinning circle mask */
    .loading .loadingMask {  
      width: 12px;
      height: 12px;
      overflow: hidden;
    }
    
    /* Spinner */
    .loading .spinner {
      position: absolute;
      left: 1px;
      top: 1px;
      width: 26px;
      height: 26px;
      -webkit-animation: spin 0.8s infinite linear;
      -o-animation: spin 0.8s infinite linear;
      animation: spin 0.8s infinite linear;
    }
</style>



<div class="APP-loading">
    <div class="EXTENDER">
        <div class="PADDER-CENTER">
            <div style="width: 100%; background-color:rgba(0,0,0,0.5)">
                <div style="color:white; text-align:center; font-weight:lighter; padding:40px 20px">We are waiting for your email... this page will
                    <br>automatically refresh once we'll get it</div>
                <div class="loading">
                    <div class="track"></div>
                    <div class="spinner">
                        <div class="loadingMask">
                            <div class="maskedCircle"></div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>



<script>
    moduleFunctions = {
        js_on: function(opts) {
            // this                                      // ritorna l'istanza del json moduleFunctions del modulo
            // this.$();                                 // ritorna il nodo html del modulo
            // getModule("template_name","module_id");   // ritorna l'istanza module_id del template template_name
            // this.opts()                               // ritorna il json delle options del modulo
            // this.getChildModules()                    // ritorna l'array degli id dei moduli figli di primo livello
            // this.getId()                              // ritorna l'id del modulo
            // this.getTemplate()                        // titorna il nome del template
            // this.createScroller()                     // cerca un .wrapper e lo rende un iScroll


        },
        show:function(){
            this.$().find(".APP-loading").fadeIn("fast",function(){
                getModule("app").$().find(".bg").addClass("blured");
            });
            
        }
    };
</script>